{"ast":null,"code":"var _jsxFileName = \"/home/qburst/Documents/testmate-training-2022-fe/src/pages/landing_page/LandingPage.js\",\n    _s = $RefreshSig$();\n\nimport \"./LandingPage.scss\";\nimport React, { useEffect, useRef } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport { useNavigate } from \"react-router-dom\";\nimport Signin from \"../../api/Signin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LandingPage() {\n  _s();\n\n  const navigate = useNavigate();\n  const lp_error_message = useRef(null);\n\n  const redirect = () => {\n    navigate(\"/home\");\n  };\n\n  const checkMail = email => {\n    const splitedMail = email.split(\"@\");\n\n    if (splitedMail[1] !== \"qburst.com\") {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  const handleCallbackResponse = response => {\n    const userObject = jwtDecode(response.credential);\n    const object = {\n      token: response.credential\n    };\n    const mailValid = checkMail(userObject.email);\n\n    if (mailValid === true) {\n      Signin(object).then(data => {\n        if (data === 1) {\n          lp_error_message.current.style.display = \"block\";\n          lp_error_message.innerHTML = \"Login success\";\n          redirect();\n        }\n      });\n    } else {\n      lp_error_message.current.style.display = \"block\";\n      lp_error_message.current.innerHTML = \"Please use a QBurst account\";\n    }\n  };\n\n  useEffect(() => {\n    /* global google */\n    google.accounts.id.initialize({\n      client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n      callback: handleCallbackResponse\n    });\n    google.accounts.id.renderButton(document.getElementById(\"signin_div\"), {\n      theme: \"outline\",\n      size: \"large\",\n      type: \"standard\",\n      text: \"signin_with\",\n      shape: \"circle\"\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lp-main-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lp-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lp-top-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lp-top-left-contents\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/background/lp_bg_element_1.png\",\n            alt: \"testmate\",\n            className: \"lp-bg-element\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"assets/logos/logo.png\",\n            alt: \"testmate\",\n            className: \"lp-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"lp-line-break\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lp-desc\",\n            children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent eget risus vitae massa semper aliquam quis mattis quam. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"signin_div\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lp-error-message\",\n            ref: lp_error_message,\n            children: \"You have reached an access restricted network!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lp-top-right\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"assets/background/lp_bg.svg\",\n          alt: \"testmate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lp-bottom\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\xA9 2022\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"assets/logos/qburst-logo.png\",\n        alt: \"qburst\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LandingPage, \"BBeZrm9m4oa9nQtsdXB3udtI0ts=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LandingPage;\nexport default LandingPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LandingPage\");","map":{"version":3,"names":["React","useEffect","useRef","jwtDecode","useNavigate","Signin","LandingPage","navigate","lp_error_message","redirect","checkMail","email","splitedMail","split","handleCallbackResponse","response","userObject","credential","object","token","mailValid","then","data","current","style","display","innerHTML","google","accounts","id","initialize","client_id","process","env","REACT_APP_GOOGLE_CLIENT_ID","callback","renderButton","document","getElementById","theme","size","type","text","shape"],"sources":["/home/qburst/Documents/testmate-training-2022-fe/src/pages/landing_page/LandingPage.js"],"sourcesContent":["import \"./LandingPage.scss\";\nimport React, { useEffect, useRef } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport { useNavigate } from \"react-router-dom\";\nimport Signin from \"../../api/Signin\";\n\nfunction LandingPage() {\n  const navigate = useNavigate(); \n  const lp_error_message = useRef(null);\n\n  const redirect = () => {\n    navigate(\"/home\");\n  }\n\n  const checkMail = (email) => {\n    const splitedMail = email.split(\"@\");\n    if (splitedMail[1] !== \"qburst.com\"){\n      return false;\n    }\n    else{\n      return true;\n    }\n  }\n\n  const handleCallbackResponse = (response) => {\n    const userObject = jwtDecode(response.credential);\n\n    const object = { \n      token: response.credential\n    };\n\n    const mailValid = checkMail(userObject.email);\n\n    if (mailValid === true){\n      Signin(object).then((data) => {\n      if (data === 1){\n        lp_error_message.current.style.display = \"block\";\n        lp_error_message.innerHTML = \"Login success\";\n        redirect();\n      }\n      });\n    }\n    else{\n      lp_error_message.current.style.display = \"block\";\n      lp_error_message.current.innerHTML = \"Please use a QBurst account\";\n    }\n    \n  }\n\n  useEffect(() => {\n    /* global google */\n    google.accounts.id.initialize({\n    client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n    callback: handleCallbackResponse,\n    \n  });\n\n    google.accounts.id.renderButton(\n      document.getElementById(\"signin_div\"),\n      {theme: \"outline\", size: \"large\", type: \"standard\", text: \"signin_with\", shape: \"circle\"}\n    );\n  });\n\n  return (\n    <div className=\"lp-main-layout\">\n      <div className=\"lp-top\">\n        <div className=\"lp-top-left\">\n          <div className=\"lp-top-left-contents\">\n            <img src=\"assets/background/lp_bg_element_1.png\" alt=\"testmate\" className=\"lp-bg-element\"/>\n            <img src=\"assets/logos/logo.png\" alt=\"testmate\" className=\"lp-logo\"/>\n            <hr className=\"lp-line-break\" />\n            <p className=\"lp-desc\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. \n                                   Praesent eget risus vitae massa semper aliquam quis mattis quam. </p>\n\n            <div id=\"signin_div\"></div>\n\n            <p className=\"lp-error-message\" ref={lp_error_message}>\n              You have reached an access restricted network!\n            </p>\n          </div>\n        </div>\n\n        <div className=\"lp-top-right\">\n          <img src=\"assets/background/lp_bg.svg\" alt=\"testmate\"/>\n        </div>\n      </div>\n\n      <div className=\"lp-bottom\">\n        <p>&copy; 2022</p>\n        <img src=\"assets/logos/qburst-logo.png\" alt=\"qburst\"></img>\n      </div>\n    </div>\n\n  );\n}\n\nexport default LandingPage;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}